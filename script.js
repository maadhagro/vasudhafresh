// 1. Lazy Loading Images
function renderProducts(products) {
    const grid = document.getElementById('products-grid');
    grid.innerHTML = '';
    products.forEach((prod, idx) => {
        const productCard = document.createElement('div');
        productCard.className = 'product-card';
        productCard.innerHTML = `
            <img src="${prod.img}" alt="${prod.name}" loading="lazy">
            <h4>${prod.name}</h4>
            <p>₹${prod.price}</p>
            <button class="add-cart-btn" onclick="addToCart('${selectedCategory}',${idx})">गाड़ी में जोड़ें</button>
        `;
        grid.appendChild(productCard);
    });
}

// 2. Quantity Handling in Cart
function addToCart(cat, idx) {
    let prod = productsData[cat][idx];
    const existingIndex = cart.findIndex(item => item.name === prod.name);
    if (existingIndex > -1) {
        cart[existingIndex].quantity = (cart[existingIndex].quantity || 1) + 1;
    } else {
        cart.push({...prod, quantity: 1});
    }
    updateCartCount();
    showCartModal();
}

// 3. Cart Count Update
function updateCartCount() {
    const totalItems = cart.reduce((sum, item) => sum + (item.quantity || 1), 0);
    document.querySelector('.cart-count').innerText = totalItems;
}

// 4. Modal Close on Outside Click
window.addEventListener('click', function(event) {
    const cartModal = document.getElementById('cart-modal');
    const checkoutModal = document.getElementById('checkout-modal');
    
    if (event.target === cartModal) {
        closeCart();
    }
    if (event.target === checkoutModal) {
        closeCheckout();
    }
});

// 5. Form Submission Alert
document.addEventListener('DOMContentLoaded', function() {
    const document.addEventListener('DOMContentLoaded', function() {
  const loginBtn = document.getElementById('login-btn');
  loginBtn.addEventListener('click', function() {
    // उदाहरण के लिए, एक साधारण अलर्ट या future में modal खोलें
    alert('लॉगिन फीचर अभी उपलब्ध नहीं है। जल्द ही जोड़ दिया जाएगा।');
    
    // भविष्य में अगर आप एक लॉगिन modal इस्तेमाल करना चाहें:
    // document.getElementById('login-modal').style.display = 'block';
  });
});
 checkoutForm = document.getElementById('checkout-form');
    if (checkoutForm) {
        checkoutForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            const orderData = {
                name: formData.get('name'),
                total: cart.reduce((sum, item) => sum + (item.price * (item.quantity || 1)), 0)
            };
            
            alert(`धन्यवाद ${orderData.name}! आपका ऑर्डर सफलतापूर्वक दर्ज हो गया है।
ऑर्डर संख्या: VF${Date.now()}
कुल राशि: ₹${orderData.total}`);
            
            cart = [];
            updateCartCount();
            closeCheckout();
            this.reset();
        });
    }
});

const productsData = {
      milk: [{'name': 'Dairy Product 1', 'price': 40, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 2', 'price': 45, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 3', 'price': 50, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 4', 'price': 55, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 5', 'price': 60, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 6', 'price': 65, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 7', 'price': 70, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 8', 'price': 75, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 9', 'price': 80, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 10', 'price': 85, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 11', 'price': 40, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 12', 'price': 45, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 13', 'price': 50, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 14', 'price': 55, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 15', 'price': 60, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 16', 'price': 65, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 17', 'price': 70, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 18', 'price': 75, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 19', 'price': 80, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 20', 'price': 85, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 21', 'price': 40, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 22', 'price': 45, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 23', 'price': 50, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 24', 'price': 55, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 25', 'price': 60, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 26', 'price': 65, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 27', 'price': 70, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 28', 'price': 75, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 29', 'price': 80, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 30', 'price': 85, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 31', 'price': 40, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 32', 'price': 45, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 33', 'price': 50, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 34', 'price': 55, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 35', 'price': 60, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 36', 'price': 65, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 37', 'price': 70, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 38', 'price': 75, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 39', 'price': 80, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 40', 'price': 85, 'img': 'https://via.placeholder.com/100x100?text=Milk'}],
      bakery: [{'name': 'Bakery Item 1', 'price': 25, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 2', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 3', 'price': 37, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 4', 'price': 43, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 5', 'price': 49, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 6', 'price': 55, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 7', 'price': 61, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 8', 'price': 67, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 9', 'price': 25, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 10', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 11', 'price': 37, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 12', 'price': 43, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 13', 'price': 49, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 14', 'price': 55, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 15', 'price': 61, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 16', 'price': 67, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 17', 'price': 25, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 18', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 19', 'price': 37, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 20', 'price': 43, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 21', 'price': 49, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 22', 'price': 55, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 23', 'price': 61, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 24', 'price': 67, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 25', 'price': 25, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}],
      grocery: [{'name': 'Grocery 1', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 2', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 3', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 4', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 5', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 6', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 7', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 8', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 9', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 10', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 11', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 12', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 13', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 14', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 15', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 16', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 17', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 18', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 19', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 20', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 21', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 22', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 23', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 24', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 25', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 26', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 27', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 28', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 29', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 30', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 31', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 32', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 33', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 34', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 35', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 36', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 37', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 38', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 39', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 40', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 41', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 42', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 43', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 44', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 45', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 46', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 47', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 48', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 49', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 50', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 51', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 52', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 53', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 54', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 55', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 56', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 57', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 58', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 59', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 60', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 61', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 62', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 63', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 64', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 65', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 66', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 67', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 68', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 69', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 70', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 71', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 72', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 73', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 74', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 75', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 76', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 77', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 78', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 79', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 80', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 81', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 82', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 83', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 84', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 85', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 86', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 87', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 88', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 89', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 90', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 91', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 92', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 93', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 94', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 95', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 96', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 97', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 98', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 99', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 100', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 101', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 102', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 103', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 104', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 105', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 106', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 107', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 108', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 109', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 110', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 111', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 112', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 113', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 114', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 115', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 116', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 117', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 118', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 119', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 120', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}],
      all: [{'name': 'Dairy Product 1', 'price': 40, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 2', 'price': 45, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 3', 'price': 50, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 4', 'price': 55, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 5', 'price': 60, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 6', 'price': 65, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 7', 'price': 70, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 8', 'price': 75, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 9', 'price': 80, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 10', 'price': 85, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 11', 'price': 40, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 12', 'price': 45, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 13', 'price': 50, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 14', 'price': 55, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 15', 'price': 60, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 16', 'price': 65, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 17', 'price': 70, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 18', 'price': 75, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 19', 'price': 80, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 20', 'price': 85, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 21', 'price': 40, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 22', 'price': 45, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 23', 'price': 50, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 24', 'price': 55, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 25', 'price': 60, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 26', 'price': 65, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 27', 'price': 70, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 28', 'price': 75, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 29', 'price': 80, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 30', 'price': 85, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 31', 'price': 40, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 32', 'price': 45, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 33', 'price': 50, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 34', 'price': 55, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 35', 'price': 60, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 36', 'price': 65, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 37', 'price': 70, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 38', 'price': 75, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 39', 'price': 80, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Dairy Product 40', 'price': 85, 'img': 'https://via.placeholder.com/100x100?text=Milk'}, {'name': 'Bakery Item 1', 'price': 25, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 2', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 3', 'price': 37, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 4', 'price': 43, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 5', 'price': 49, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 6', 'price': 55, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 7', 'price': 61, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 8', 'price': 67, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 9', 'price': 25, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 10', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 11', 'price': 37, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 12', 'price': 43, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 13', 'price': 49, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 14', 'price': 55, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 15', 'price': 61, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 16', 'price': 67, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 17', 'price': 25, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 18', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 19', 'price': 37, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 20', 'price': 43, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 21', 'price': 49, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 22', 'price': 55, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 23', 'price': 61, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 24', 'price': 67, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Bakery Item 25', 'price': 25, 'img': 'https://via.placeholder.com/100x100?text=Bakery'}, {'name': 'Grocery 1', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 2', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 3', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 4', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 5', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 6', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 7', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 8', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 9', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 10', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 11', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 12', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 13', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 14', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 15', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 16', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 17', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 18', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 19', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 20', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 21', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 22', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 23', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 24', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 25', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 26', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 27', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 28', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 29', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 30', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 31', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 32', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 33', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 34', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 35', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 36', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 37', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 38', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 39', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 40', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 41', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 42', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 43', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 44', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 45', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 46', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 47', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 48', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 49', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 50', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 51', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 52', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 53', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 54', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 55', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 56', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 57', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 58', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 59', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 60', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 61', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 62', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 63', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 64', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 65', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 66', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 67', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 68', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 69', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 70', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 71', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 72', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 73', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 74', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 75', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 76', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 77', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 78', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 79', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 80', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 81', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 82', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 83', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 84', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 85', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 86', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 87', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 88', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 89', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 90', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 91', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 92', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 93', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 94', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 95', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 96', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 97', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 98', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 99', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 100', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 101', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 102', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 103', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 104', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 105', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 106', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 107', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 108', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 109', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 110', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 111', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 112', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 113', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 114', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 115', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 116', 'price': 10, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 117', 'price': 17, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 118', 'price': 24, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 119', 'price': 31, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}, {'name': 'Grocery 120', 'price': 38, 'img': 'https://via.placeholder.com/100x100?text=Grocery'}]
};

let selectedCategory = 'all';
let cart = [];

function showCategory(cat) {
    selectedCategory = cat;
    let products = productsData[cat];
    document.getElementById('products-title').innerText =
        cat === 'all' ? 'सभी उत्पाद' : (cat === 'milk' ? 'दूध उत्पाद' : (cat === 'bakery'? 'बेकरी' : 'किराना')) + ' उत्पाद';
    renderProducts(products);
}

function renderProducts(products) {
  const grid = document.getElementById('products-grid');
  grid.innerHTML = '';
  products.forEach((prod, idx) => {
    grid.innerHTML += `<div class="product-card">
      <img src="${prod.img}" alt="${prod.name}">
      <h4>${prod.name}</h4>
      <p>₹${prod.price}</p>
      <button class="add-cart-btn" onclick="addToCart('${selectedCategory}',${idx})">गाड़ी में जोड़ें</button>
    </div>`;
  });
}

function addToCart(cat, idx) {
  let prod = productsData[cat][idx];
  cart.push(prod);
  updateCartCount();
  showCartModal();
}
function updateCartCount() {
  document.querySelector('.cart-count').innerText = cart.length;
}
function showCartModal() {
  let modal = document.getElementById('cart-modal');
  let cartItems = document.getElementById('cart-items');
  cartItems.innerHTML = '';
  let total = cart.reduce((sum, p) => sum + p.price, 0);
  cart.forEach((p, i) => {
    cartItems.innerHTML += `<div>${p.name} - ₹${p.price} <button onclick="removeFromCart(${i})">X</button></div>`;
  });
  document.getElementById('cart-total').innerText = total;
  modal.style.display = 'block';
}
function removeFromCart(idx) {
  cart.splice(idx, 1);
  updateCartCount();
  showCartModal();
}
function closeCart() {
  document.getElementById('cart-modal').style.display = 'none';
}
function openCheckout() {
  document.getElementById('cart-modal').style.display = 'none';
  let modal = document.getElementById('checkout-modal');
  let checkoutItems = document.getElementById('checkout-items');
  let total = cart.reduce((sum, p) => sum + p.price, 0);
  checkoutItems.innerHTML = '';
  cart.forEach((p) => {
    checkoutItems.innerHTML += `<div>${p.name} - ₹${p.price}</div>`;
  });
  document.getElementById('final-total').innerText = total;
  modal.style.display = 'block';
}
function closeCheckout() {
  document.getElementById('checkout-modal').style.display = 'none';
}
document.getElementById('checkout-form').onsubmit = function(e) {
  e.preventDefault();
  alert('ऑर्डर सफलतापूर्वक दर्ज किया गया!');
  cart = [];
  updateCartCount();
  closeCheckout();
}
window.onload = function() {
  showCategory('all');
};
loginBtn.addEventListener('click', function() {
  document.getElementById('login-modal').style.display = 'block';
});
